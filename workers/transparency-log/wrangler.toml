name = "wares-transparency-log"
main = "src/index.js"
compatibility_date = "2024-01-01"

# D1 Database for storing log entries
[[d1_databases]]
binding = "wares_transparency_log"
database_name = "wares-transparency-log"
database_id = "222b303b-3e32-43a0-be42-24b480d78201"

# Environment variables
[vars]
# Set via wrangler secret put REGISTRY_API_KEY
# REGISTRY_API_KEY = "your-secret-api-key"

# Custom domain
# Add via: wrangler deploy && wrangler deploy --dispatch-namespace production
# Or manually: Cloudflare Dashboard → Workers → wares-transparency-log → Triggers → Add Custom Domain
[[routes]]
pattern = "log.wares.lumen-lang.com"
custom_domain = true
